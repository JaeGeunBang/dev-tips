## innoDB 파일 사이즈 줄이기



MySQL의 Inno DB 엔진을 사용했을 때, 실제 Table에 delete를 수행해도 Inno DB 파일 사이즈가 줄어들지 않는다.

그래서, Inno DB의 파일 사이즈를 줄이기 위해 optimize 명령을 사용하는 방법이 있다.

허나 optimize를 수행하면 Table Rock이 걸려 optimze 동안 사용하지 못하며, 다른 Table에도 영향이 끼칠 수 있다.



그래서 빠르게 이를 해결하기 위해, _tmp 테이블을 만들어 작업한다.

1. 원본 테이블과 스키마가 같은 `_tmp 테이블` 을 생성한다.
2. 데이터를 원본 테이블과 _tmp 테이블에 동시에 저장한다.
3. 원본 테이블을 삭제하고, _tmp 테이블의 이름을 원본 테이블로 변경한다.



위 작업이 optimze를 통해 테이블을 최적화 하는 것보다 훨씬 빠르기 때문에, 위와 같이 진행하면 몇분내로 작업을 완료 할 수 있다.

